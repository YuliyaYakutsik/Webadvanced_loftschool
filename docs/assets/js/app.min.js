!function(){"use strict";var e=function(){var e=$(".parallax").find(".parallax__layer"),t=function(){$(window).on("mousemove",n)},n=function(t){var n=t.pageX,i=t.pageY,o=window.innerWidth/2-n,a=window.innerHeight/2-i;e.map(function(e,t){var n=window.innerHeight/2*(e/100),i=o*(e/100),r=a*(e/100);$(t).css({bottom:"-"+n+"px",transform:"translate3d("+i+"px, "+r+"px, 0)"})})};return{init:function(){t()}}}(),t=function(){var e=$(".fullscreen-menu"),t=$(".fullscreen-menu__section"),n=$(".fullscreen-menu__list"),i=!1,o=function(){$(".burger-menu__link").on("click",a)},a=function(o){o.preventDefault(),i||(i=!0,$(this).hasClass("active")?($(this).removeClass("active"),$("body").css("position","static"),n.removeClass("active"),t.removeClass("active"),setTimeout(function(){e.removeClass("active"),i=!1},500)):($(this).addClass("active"),$("body").css("position","fixed"),e.addClass("active"),t.addClass("active"),n.addClass("active"),setTimeout(function(){i=!1},1100)))};return{init:function(){o()}}}(),n=function(){var e=$(".write-me__blur-wrapper"),t=$(".write-me"),n=$(".write-me__blur"),i=function(){o()},o=function(){$(window).on("resize",a),$(document).ready(a)},a=function(){var i=$(".reviews__background").width(),o=-e.position().left,a=-t.position().top;n.css({"background-size":i+"px auto",backgroundPosition:o+"px "+a+"px"})};return{init:i}}(),i=function(){var e=$(".nav-blog"),t=function(){$(".nav-blog__toggle-link").on("click",n),$(document).on("click",i)},n=function(t){t.preventDefault();var n=$(this);n.hasClass("active")?(n.removeClass("active"),e.removeClass("active")):(n.addClass("active"),e.addClass("active"))},i=function(t){$(t.target).closest(e).length||($(".nav-blog__toggle-link").removeClass("active"),e.removeClass("active"))};return{init:function(){t()}}}(),o=function(){function e(e,t){var n=e.replace(/#/,""),i=o.filter('[data-section="'+n+'"]'),a=i.offset().top;t?$("body, html").animate({scrollTop:a},500):$("body, html").scrollTop(a)}var t=$(".nav-blog"),n=$(".nav-blog__list"),i=t.closest(".container"),o=i.find(".content-blog__item"),a=n.find(".nav-blog__link"),r=function(){$(window).scroll(s),$(document).ready(function(){a.on("click",function(t){t.preventDefault(),e($(this).attr("href"),!0)}),e(window.location.hash,!1)}),$(window).scroll(l),$(window).on("resize scroll",c)},s=function(){o.each(function(){var e=$(this),t=e.offset().top-150,n=t+e.height(),i=$(window).scrollTop();if(t<=i&&n>=i){var o=e.data("section");a.filter('[href="#'+o+'"]').closest(".nav-blog__item").addClass("active").siblings().removeClass("active"),$(".nav-blog__toggle-link").removeClass("active"),window.location.hash=o}})},l=function(){var e=i.offset().top-30;n.position().left;e<=$(document).scrollTop()?t.addClass("fixed"):t.removeClass("fixed")},c=function(){var e="Unknown OS";-1!=navigator.appVersion.indexOf("Win")?e="Windows":-1!=navigator.appVersion.indexOf("Mac")?e="MacOS":-1!=navigator.appVersion.indexOf("X11")?e="UNIX":-1!=navigator.appVersion.indexOf("Linux")&&(e="Linux");var n=$(window).width()>=1500?"438px":"MacOS"==e&&$(window).width()<=768?.6*$(window).width()+"px":"MacOS"!=e&&$(window).width()<=751?.6*$(window).width()+"px":.3*($(window).width()-40)+"px";t.css("width",n)};return{init:function(){r()}}}(),a=function(){var e=$(".flipper"),t=$(".authorization__link"),n=$(".authorization__form-button_back"),i=function(){t.on("click",o),$(document).on("click",a),n.on("click",r)},o=function(t){var n=$(this);t.preventDefault(),e.addClass("active"),n.fadeOut(1e3)},a=function(n){var i=$(n.target);i.closest(e).length||i.closest(".authorization").length||(e.removeClass("active"),t.fadeIn(1e3))},r=function(n){$(this);n.preventDefault(),e.removeClass("active"),t.fadeIn(1e3)};return{init:function(){i()}}}(),r=function(){var e=$(".preloader"),t=0,n=function(){i()},i=function(){$(document).ready(o)},o=function(){var e=a.toArray();s(e)},a=$("*").map(function(e,t){var n=$(t).css("background-image"),i=$(t).is("img"),o="";if("none"!=n&&(o=n.replace('url("',"").replace('")',"")),i&&(o=$(t).attr("src")),o)return o}),r=function(t,n){var i=Math.ceil(n/t*100);$(".preloader__percents").text(i+"%"),i>=100&&setTimeout(function(){e.fadeOut(),e.addClass("done")},500)},s=function(n){n.length||(e.fadeOut(),e.addClass("done")),n.forEach(function(e,i){$("<img>",{attr:{src:e}}).on("load error",function(){t++,r(n.length,t)})})};return{init:n}}(),s=function(){var e=1,t=!1,n=function(){i()},i=function(){$(".slider__link").on("click",function(n){n.preventDefault();var i=$(this),a=i.closest(".slider"),r=$(".slider__display_first").find(".slider__item"),s=a.find(".works__item"),l=s.closest(".works__list");if(!t){t=!0,i.hasClass("slider__link_down")?e--:e++,e>r.length-1&&(e=0),e<0&&(e=r.length-1);var c=r.eq(e).find("img").attr("src"),f=$.Deferred(),u=$.Deferred(),d=$.Deferred(),v=$.Deferred(),p=$.Deferred(),m=$.Deferred(),_=$.Deferred();$(".slider__active-pic").fadeOut(250,function(){f.resolve()}),f.done(function(){$(".slider__active-pic").attr("src",c).on("load",function(){u.resolve()})}),u.done(function(){$(".slider__active-pic").fadeIn(250,function(){d.resolve()})}),l.fadeOut(220,function(){v.resolve()}),v.done(function(){s.filter(".active").removeClass("active"),s.eq(e).addClass("active"),p.resolve()}),p.done(function(){l.fadeIn(220,function(){m.resolve()})}),i.hasClass("slider__link_down")?(o($(".slider__display_first"),"up"),o($(".slider__display_opposite"),"down"),_.resolve()):(o($(".slider__display_first"),"down"),o($(".slider__display_opposite"),"up"),_.resolve()),$.when(d,m,_).done(function(){t=!1})}})},o=function(t,n){var i=e,o=t.find(".slider__item"),r=o.filter(".active");t.hasClass("slider__display_first")?i-1<0?i=o.length-1:i--:i+1>o.length-1?i=0:i++;var s=o.eq(i);a(s,r,n)},a=function(e,t,n){var n="down"==n?100:-100;e.css("top",-1*n+"%"),t.animate({top:n+"%"},500),e.animate({top:"0"},500,function(){e.siblings().removeClass("active"),e.addClass("active")})};return{init:n}}(),l=function(){var e=$(".section_to_scroll"),t=function(){$(".down-arrow").on("click",function(e){e.preventDefault(),n()})},n=function(){var t=e.offset().top;$("body, html").animate({scrollTop:t},500)};return{init:function(){t()}}}(),c=function(){var e=function(){$(".up-arrow").on("click",function(e){e.preventDefault(),t()})},t=function(){$("body, html").animate({scrollTop:0},500)};return{init:function(){e()}}}(),f=function(){var e=$(".header").find(".header__title-img"),t=$(".header").find(".header__bg"),n=$(".header").find(".user_position_header"),i=function(){o()},o=function(){$(window).on("scroll",a)},a=function(i){var i=$(window).scrollTop();r(t,i,30),r(e,i,7),r(n,i,-6)},r=function(e,t,n){var i=t/n*-1+"%",o="translate3d(0,"+i+",0)";e.css({transform:o,"-webkit-transform":o})};return{init:i}}(),u=function(){var e,t=$(".skill"),n=0,i=function(){o()},o=function(){$(window).on("scroll",r),$(document).ready(a)},a=function(){$(".preloader").hasClass("done")},r=function(){($(window).height()>=$(".skills").offset().top+$(".skills").height()||$(".skills").offset().top-$(window).scrollTop()+$(".skills").height()/2-Math.ceil($(window).height()/($("body").height()/$(window).height()))<0)&&s()},s=function(){t.eq(n).addClass("active"),n++,e=setTimeout(s,300),n==t.length&&e&&clearTimeout(e)};return{init:i}}(),d=function(){var e=function(){$(document).ready(function(){$(".tabs__controls-link").on("click",t)})},t=function(e){e.preventDefault();var t=$(this).closest(".tabs__controls-item"),n=$(".tabs__item"),i=t.index();n.eq(i).addClass("tabs__item_active").siblings().removeClass("tabs__item_active"),t.addClass("tabs__controls-item_active").siblings().removeClass("tabs__controls-item_active")};return{init:function(){e()}}}(),v=function(){var e=document.querySelector("#reviews__form"),t=$("#reviews__form"),n=$(".status"),i=function(){o()},o=function(){e.addEventListener("submit",function(e){e.preventDefault(),a(),r()}),$(".reviews__form-button-reset").on("click",function(e){e.preventDefault(),t[0].reset(),n.text(""),a()})},a=function(){t.find(".reviews__form-element").each(function(){$(this).removeClass("input-alert")})},r=function(){var t={name:e.name.value.trim(),email:e.email.value.trim(),text:e.text.value.trim()};n.text(""),t.name&&t.email&&t.text?(n.text("Ваше сообщение успешно отправлено"),c()):(s(),n.text("Пожалуйста, заполните все поля в форме"))},s=function(){var e=[];t.find(".reviews__form-element").each(function(){$(this).val().trim()||e.push($(this))}),l(e)},l=function(e){e.forEach(function(e){$(e).addClass("input-alert")})},c=function(){t.each(function(){this.reset()})};return{init:i}}(),p=function(){var e=document.querySelector("#login"),t=$(".status"),n=$("#login"),i=function(){e.addEventListener("submit",function(e){e.preventDefault(),o()})},o=function(){var n={login:e.user.value,password:e.password.value};t.text(""),n.login&&n.password?(s(),$(".authorization__form-checkbox").prop("checked")&&"yes"==$(":radio[name=answer]").filter(":checked").val()?(l(),t.text("На github.pages не поддерживается node.js!")):t.text("Не людям тут не место")):(a(),t.text("Введите логин и пароль!"))},a=function(){var e=[];n.find(".authorization__form-element").each(function(){$(this).val().trim()||e.push($(this))}),r(e)},r=function(e){e.forEach(function(e){$(e).addClass("input-alert")})},s=function(){n.find(".authorization__form-element").each(function(){$(this).removeClass("input-alert")})},l=function(){n.each(function(){this.reset()})};return{init:function(){i()}}}(),m=function(){return{init:function(){var e=[{featureType:"water",stylers:[{color:"#00bfa5"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{saturation:"-70"}]},{featureType:"landscape.natural",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{lightness:"-5"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"off"}]}],t=new google.maps.Map(document.getElementById("map"),{center:{lat:53.912838,lng:27.566431},scrollwheel:!1,styles:e,zoom:15,disableDefaultUI:!0});new google.maps.Marker({position:{lat:53.910684,lng:27.556924},map:t,title:"Мое местонахождение",icon:"assets/img/map_marker_large.png"})}}}();$(document).ready(function(){$(".parallax").length&&e.init(),$(".fullscreen-menu").length&&t.init(),$(".blur").length&&n.init(),$(".nav-blog").length&&(i.init(),o.init()),$(".preloader").length&&r.init(),$(".flipper").length&&a.init(),$(".slider").length&&s.init(),$(".down-arrow").length&&l.init(),$(".up-arrow").length&&c.init(),$(".pages__container").length&&f.init(),$(".skills").length&&u.init(),$(".tabs").length&&d.init(),$(".write-me").length&&v.init(),$("#login").length&&p.init(),$(".map").length&&m.init()})}();